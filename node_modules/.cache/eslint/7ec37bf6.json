[{"D:\\ON\\软件工程\\前端\\Project\\vue3-ts-demo\\src\\main.ts":"1","D:\\ON\\软件工程\\前端\\Project\\vue3-ts-demo\\src\\App.vue":"2","D:\\ON\\软件工程\\前端\\Project\\vue3-ts-demo\\src\\router\\index.ts":"3","D:\\ON\\软件工程\\前端\\Project\\vue3-ts-demo\\src\\views\\LoginView.vue":"4","D:\\ON\\软件工程\\前端\\Project\\vue3-ts-demo\\src\\views\\HomeView.vue":"5","D:\\ON\\软件工程\\前端\\Project\\vue3-ts-demo\\src\\views\\AboutView.vue":"6","D:\\ON\\软件工程\\前端\\Project\\vue3-ts-demo\\src\\views\\GoodsView.vue":"7","D:\\ON\\软件工程\\前端\\Project\\vue3-ts-demo\\src\\views\\AuthorityView.vue":"8","D:\\ON\\软件工程\\前端\\Project\\vue3-ts-demo\\src\\views\\RoleView.vue":"9","D:\\ON\\软件工程\\前端\\Project\\vue3-ts-demo\\src\\views\\UserView.vue":"10","D:\\ON\\软件工程\\前端\\Project\\vue3-ts-demo\\src\\type\\goods.ts":"11","D:\\ON\\软件工程\\前端\\Project\\vue3-ts-demo\\src\\type\\login.ts":"12","D:\\ON\\软件工程\\前端\\Project\\vue3-ts-demo\\src\\type\\authority.ts":"13","D:\\ON\\软件工程\\前端\\Project\\vue3-ts-demo\\src\\request\\api.ts":"14","D:\\ON\\软件工程\\前端\\Project\\vue3-ts-demo\\src\\type\\role.ts":"15","D:\\ON\\软件工程\\前端\\Project\\vue3-ts-demo\\src\\type\\user.ts":"16","D:\\ON\\软件工程\\前端\\Project\\vue3-ts-demo\\src\\request\\index.ts":"17"},{"size":238,"mtime":1683269469849,"results":"18","hashOfConfig":"19"},{"size":160,"mtime":1683301972070,"results":"20","hashOfConfig":"19"},{"size":2192,"mtime":1683560480497,"results":"21","hashOfConfig":"19"},{"size":3163,"mtime":1683560777369,"results":"22","hashOfConfig":"19"},{"size":2110,"mtime":1683560904037,"results":"23","hashOfConfig":"19"},{"size":89,"mtime":1683268616150,"results":"24","hashOfConfig":"19"},{"size":3233,"mtime":1683559245587,"results":"25","hashOfConfig":"19"},{"size":1266,"mtime":1683559241439,"results":"26","hashOfConfig":"19"},{"size":2360,"mtime":1683559242493,"results":"27","hashOfConfig":"19"},{"size":5212,"mtime":1684767592991,"results":"28","hashOfConfig":"19"},{"size":554,"mtime":1683388393670,"results":"29","hashOfConfig":"19"},{"size":181,"mtime":1683541714530,"results":"30","hashOfConfig":"19"},{"size":328,"mtime":1683559245408,"results":"31","hashOfConfig":"19"},{"size":770,"mtime":1683540280414,"results":"32","hashOfConfig":"19"},{"size":148,"mtime":1683559245428,"results":"33","hashOfConfig":"19"},{"size":759,"mtime":1683559247842,"results":"34","hashOfConfig":"19"},{"size":784,"mtime":1683561165970,"results":"35","hashOfConfig":"19"},{"filePath":"36","messages":"37","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"p0q16f",{"filePath":"38","messages":"39","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"40","messages":"41","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"42","messages":"43","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"44","messages":"45","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"46","messages":"47","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"48","messages":"49","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"50","messages":"51","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"52"},{"filePath":"53","messages":"54","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"55","messages":"56","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"57"},{"filePath":"58","messages":"59","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"60","messages":"61","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"62","messages":"63","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"64"},{"filePath":"65","messages":"66","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"67","messages":"68","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"69","messages":"70","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"71","messages":"72","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"D:\\ON\\软件工程\\前端\\Project\\vue3-ts-demo\\src\\main.ts",[],"D:\\ON\\软件工程\\前端\\Project\\vue3-ts-demo\\src\\App.vue",[],"D:\\ON\\软件工程\\前端\\Project\\vue3-ts-demo\\src\\router\\index.ts",[],"D:\\ON\\软件工程\\前端\\Project\\vue3-ts-demo\\src\\views\\LoginView.vue",[],"D:\\ON\\软件工程\\前端\\Project\\vue3-ts-demo\\src\\views\\HomeView.vue",[],"D:\\ON\\软件工程\\前端\\Project\\vue3-ts-demo\\src\\views\\AboutView.vue",[],"D:\\ON\\软件工程\\前端\\Project\\vue3-ts-demo\\src\\views\\GoodsView.vue",[],"D:\\ON\\软件工程\\前端\\Project\\vue3-ts-demo\\src\\views\\AuthorityView.vue",["73"],"<template>\r\n  <div>\r\n    <el-tree\r\n      ref=\"treeRef\"\r\n      :data=\"list\"\r\n      show-checkbox\r\n      node-key=\"roleId\"\r\n      check-strictly=\"true\"\r\n      :default-checked-keys=\"authority\"\r\n      :props=\"{\r\n        children: 'roleList',\r\n        label: 'name',\r\n      }\"\r\n    />\r\n    <el-button @click=\"changeAuthority\">确认修改</el-button>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { InitData } from \"../type/authority\";\r\nimport { defineComponent, onMounted, reactive, toRefs } from \"vue\";\r\nimport { useRoute } from \"vue-router\";\r\nimport { getAuthorityList } from \"../request/api\";\r\nexport default defineComponent({\r\n  setup() {\r\n    const route = useRoute();\r\n    console.log(route);\r\n    const params: any = route.params;\r\n    const data = reactive(new InitData(params.id, params.authority));\r\n\r\n    onMounted(() => {\r\n      getAuthorityList().then((res) => {\r\n        console.log(res);\r\n        data.list = res.data;\r\n      });\r\n    });\r\n    const changeAuthority = () => {\r\n      console.log(\r\n        data.treeRef.getCheckedKeys().sort(function (a: number, b: number) {\r\n          return a - b;\r\n        })\r\n      );\r\n    };\r\n    return { ...toRefs(data), changeAuthority };\r\n  },\r\n  components: {},\r\n});\r\n</script>\r\n\r\n<style scoped></style>\r\n","D:\\ON\\软件工程\\前端\\Project\\vue3-ts-demo\\src\\views\\RoleView.vue",[],"D:\\ON\\软件工程\\前端\\Project\\vue3-ts-demo\\src\\views\\UserView.vue",["74","75"],"<template>\r\n  <div>\r\n    <div class=\"select-box\">\r\n      <el-form :inline=\"true\" :model=\"selectData\" class=\"demo-form-inline\">\r\n        <el-form-item label=\"姓名\">\r\n          <el-input v-model=\"selectData.nickName\" placeholder=\"请输入姓名\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"角色\">\r\n          <el-select\r\n            v-model=\"selectData.role\"\r\n            class=\"m-2\"\r\n            placeholder=\"Select\"\r\n            size=\"large\"\r\n          >\r\n            <el-option label=\"全部\" :value=\"0\" />\r\n            <el-option\r\n              v-for=\"item in Rolelist\"\r\n              :key=\"item.roleId\"\r\n              :label=\"item.roleName\"\r\n              :value=\"item.roleId\"\r\n            />\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button type=\"primary\" @click=\"onSubmit\">Query</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n    <el-table :data=\"list\" border style=\"width: 100%\">\r\n      <el-table-column prop=\"id\" label=\"id\" width=\"180\" />\r\n      <el-table-column prop=\"nickName\" label=\"姓名\" width=\"180\" />\r\n      <el-table-column prop=\"role\" label=\"角色\">\r\n        <template #default=\"scope\">\r\n          <el-button\r\n            v-for=\"item in scope.row.role\"\r\n            :key=\"item.role\"\r\n            link\r\n            size=\"small\"\r\n          >\r\n            {{ item.roleName }}\r\n          </el-button>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"role\" label=\"操作\">\r\n        <template #default=\"scope\">\r\n          <el-button\r\n            link\r\n            type=\"primary\"\r\n            size=\"small\"\r\n            @click=\"changeUser(scope.row)\"\r\n            >编辑\r\n          </el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n  </div>\r\n  <el-dialog v-model=\"isShow\" title=\"编辑信息\">\r\n    <el-form :model=\"active\">\r\n      <el-form-item label=\"姓名\" label-width=\"50px\">\r\n        <el-input v-model=\"active.nickName\" autocomplete=\"off\" />\r\n      </el-form-item>\r\n      <el-form-item label=\"角色\" label-width=\"50px\">\r\n        <el-select multiple v-model=\"active.role\" placeholder=\"请选择角色\">\r\n          <el-option\r\n            v-for=\"item in Rolelist\"\r\n            :key=\"item.roleId\"\r\n            :label=\"item.roleName\"\r\n            :value=\"item.roleId\"\r\n          />\r\n        </el-select>\r\n      </el-form-item>\r\n    </el-form>\r\n    <template #footer>\r\n      <span class=\"dialog-footer\">\r\n        <el-button @click=\"cancel\">取消</el-button>\r\n        <el-button type=\"primary\" @click=\"updataUser\"> 更改 </el-button>\r\n      </span>\r\n    </template>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent, onMounted, reactive, toRefs, watch } from \"vue\";\r\nimport { getUserList, getRoleList } from \"../request/api\";\r\nimport { InitData, ListInt } from \"../type/user\";\r\nexport default defineComponent({\r\n  name: \"UserView\",\r\n  setup(){\r\n    const data = reactive(new InitData());\r\n    onMounted(() => {\r\n      getUser();\r\n      getRole();\r\n    });\r\n    const getUser = () => {\r\n      getUserList().then((res) => {\r\n        data.list = res.data;\r\n        //console.log(res);\r\n      });\r\n    };\r\n    const getRole = () => {\r\n      getRoleList().then((res) => {\r\n        data.Rolelist = res.data;\r\n        // console.log(res);\r\n      });\r\n    };\r\n    const onSubmit = () => {\r\n      let arr: ListInt[] = []; //定义数组接受查询过后要展示的数据\r\n      if (data.selectData.nickName || data.selectData.role) {\r\n        if (data.selectData.nickName) {\r\n          arr = data.list.filter((value) => {\r\n            return value.nickName.indexOf(data.selectData.nickName) != -1;\r\n          });\r\n        }\r\n        if (data.selectData.role) {\r\n          arr = (data.selectData.nickName ? arr : data.list).filter((value) => {\r\n            return value.role.find(\r\n              (item) => item.role === data.selectData.role\r\n            );\r\n          });\r\n        }\r\n      } else {\r\n        arr = data.list;\r\n      }\r\n      data.list = arr;\r\n    };\r\n    const changeUser = (row: ListInt) => {\r\n      console.log(row);\r\n      data.active = {\r\n        id: row.id,\r\n        nickName: row.nickName,\r\n        userName: row.userName,\r\n        role: row.role.map((value: any) => value.role || value.roleId),\r\n      };\r\n      data.isShow = true;\r\n    };\r\n    const updataUser = () => {\r\n      let obj: any = data.list.find((value) => value.id == data.active.id);\r\n      obj.nickName = data.active.nickName;\r\n      obj.role = data.Rolelist.filter(\r\n        (value) => data.active.role.indexOf(value.roleId) !== -1\r\n      );\r\n      data.list.forEach((item, i) => {\r\n        if (item.id == obj.id) {\r\n          data.list[i] = obj;\r\n        }\r\n      });\r\n      data.isShow = false;\r\n    };\r\n    const cancel = () => {\r\n      data.isShow = false;\r\n    };\r\n    watch([() => data.selectData.nickName, () => data.selectData.role], () => {\r\n      if (data.selectData.nickName == \"\" || data.selectData.role == 0) {\r\n        getUser();\r\n      }\r\n    });\r\n    return { ...toRefs(data), onSubmit, changeUser, updataUser, cancel };\r\n  },\r\n  components: {},\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.demo-form-inline {\r\n  float: right;\r\n}\r\n</style>\r\n","D:\\ON\\软件工程\\前端\\Project\\vue3-ts-demo\\src\\type\\goods.ts",[],"D:\\ON\\软件工程\\前端\\Project\\vue3-ts-demo\\src\\type\\login.ts",[],"D:\\ON\\软件工程\\前端\\Project\\vue3-ts-demo\\src\\type\\authority.ts",["76"],"export interface ListInt {\r\n  name: string;\r\n  roleId: number;\r\n  roleList: ListInt[];\r\n  viewRole: string;\r\n}\r\nexport class InitData {\r\n  id: number;\r\n  authority: number[];\r\n  constructor(id: number, authority: number[]) {\r\n    this.id = id;\r\n    this.authority = authority;\r\n  }\r\n  list: ListInt[] = [];\r\n  treeRef: any;\r\n}\r\n","D:\\ON\\软件工程\\前端\\Project\\vue3-ts-demo\\src\\request\\api.ts",[],"D:\\ON\\软件工程\\前端\\Project\\vue3-ts-demo\\src\\type\\role.ts",[],"D:\\ON\\软件工程\\前端\\Project\\vue3-ts-demo\\src\\type\\user.ts",[],"D:\\ON\\软件工程\\前端\\Project\\vue3-ts-demo\\src\\request\\index.ts",[],{"ruleId":"77","severity":1,"message":"78","line":28,"column":19,"nodeType":"79","messageId":"80","endLine":28,"endColumn":22,"suggestions":"81"},{"ruleId":"77","severity":1,"message":"78","line":132,"column":36,"nodeType":"79","messageId":"80","endLine":132,"endColumn":39,"suggestions":"82"},{"ruleId":"77","severity":1,"message":"78","line":137,"column":16,"nodeType":"79","messageId":"80","endLine":137,"endColumn":19,"suggestions":"83"},{"ruleId":"77","severity":1,"message":"78","line":15,"column":12,"nodeType":"79","messageId":"80","endLine":15,"endColumn":15,"suggestions":"84"},"@typescript-eslint/no-explicit-any","Unexpected any. Specify a different type.","TSAnyKeyword","unexpectedAny",["85","86"],["87","88"],["89","90"],["91","92"],{"messageId":"93","fix":"94","desc":"95"},{"messageId":"96","fix":"97","desc":"98"},{"messageId":"93","fix":"99","desc":"95"},{"messageId":"96","fix":"100","desc":"98"},{"messageId":"93","fix":"101","desc":"95"},{"messageId":"96","fix":"102","desc":"98"},{"messageId":"93","fix":"103","desc":"95"},{"messageId":"96","fix":"104","desc":"98"},"suggestUnknown",{"range":"105","text":"106"},"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct.","suggestNever",{"range":"105","text":"107"},"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of.",{"range":"108","text":"106"},{"range":"108","text":"107"},{"range":"109","text":"106"},{"range":"109","text":"107"},{"range":"110","text":"106"},{"range":"110","text":"107"},[714,717],"unknown","never",[4151,4154],[4281,4284],[319,322]]